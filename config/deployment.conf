# Cursor Rules Deployment Configuration
# Configuration for automated cursor rules deployment system

# =============================================================================
# DEPLOYMENT BEHAVIOR SETTINGS
# =============================================================================

# Enable/disable automated deployment
ENABLE_AUTO_DEPLOY=true

# Only deploy when rule templates have changed (not on every release)
DEPLOY_ON_TEMPLATE_CHANGE_ONLY=true

# Deploy only on release merges (not feature/hotfix merges)
DEPLOY_ON_RELEASE_ONLY=true

# Smart detection - only deploy to tiers that need updates
SMART_TIER_DETECTION=true

# Stop and notify on first deployment failure
STOP_ON_FAILURE=true

# =============================================================================
# DEPLOYMENT TARGETS
# =============================================================================

# Target directories for deployment (will be resolved from environment)
GLOBAL_TARGET="\${WORK_DIR}/.cursorrules"
GLOBAL_TEMPLATE="global-root"

PROJECTS_TARGET="\${WORK_DIR}/projects/.cursorrules"
PROJECTS_TEMPLATE="projects"

SCRIPTS_TARGET="\${WORK_DIR}/scripts/.cursorrules"
SCRIPTS_TEMPLATE="scripts-dev"

# Base template used by all tiers
BASE_TEMPLATE="base-global"

# =============================================================================
# BACKUP AND SAFETY SETTINGS  
# =============================================================================

# Create backups before deployment
BACKUP_BEFORE_DEPLOY=true

# Backup directory
BACKUP_DIR="/Users/alexcaldwell/the-warehouse/backups/cursor-rules-backups"

# Validate rule syntax before deployment  
VALIDATE_BEFORE_DEPLOY=true

# =============================================================================
# LOGGING AND NOTIFICATIONS
# =============================================================================

# Log all deployments to global execution tracker
LOG_DEPLOYMENTS=true

# Notification level (debug, info, warning, error)
NOTIFICATION_LEVEL=info

# Log detailed deployment information
VERBOSE_LOGGING=true

# =============================================================================
# GIT HOOK BEHAVIOR
# =============================================================================

# Environment variable to skip deployment
SKIP_DEPLOY_ENV_VAR="SKIP_CURSOR_DEPLOY"

# Git Flow detection patterns
RELEASE_BRANCH_PATTERN="release/"
HOTFIX_BRANCH_PATTERN="hotfix/"

# Files to monitor for changes
TEMPLATE_FILES=(
    "templates/base-global.cursorrules"
    "templates/global-root.cursorrules"
    "templates/projects.cursorrules"
    "templates/scripts-dev.cursorrules"
)